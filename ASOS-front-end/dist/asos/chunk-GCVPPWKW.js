import{a as A}from"./chunk-BOJFXX33.js";import{a as N}from"./chunk-G7D7R4RW.js";import{Aa as y,E as S,F as p,Hb as V,J as _,K as v,Na as E,Oa as P,S as w,U as o,V as f,Ya as I,Za as k,aa as u,ca as c,cb as F,db as M,ja as n,ka as r,la as d,ma as W,na as b,oa as T,pa as x,qa as m,sb as j,ub as C,ya as s,z as h,za as L}from"./chunk-KAOPS22R.js";function D(e,l){if(e&1){let t=T();n(0,"div",9)(1,"div")(2,"div",10),d(3,"img",11),n(4,"i",12),x("click",function(){let a=_(t).$implicit,g=m(3);return v(g.removeFromWishList(a.id))}),r(),n(5,"i",13),x("click",function(){let a=_(t).$implicit,g=m(3);return v(g.AddToCart(a.id))}),r()(),n(6,"p",14),s(7),r(),n(8,"div",15)(9,"span"),s(10),E(11,"currency"),r(),n(12,"span"),s(13),d(14,"i",16),r()()()()}if(e&2){let t=l.$implicit;o(3),c("src",t.imageUrls[0],w)("alt",t.name),o(4),L(t.name),o(3),L(P(11,5,t.price)),o(3),y(" ",t.rate," ")}}function G(e,l){if(e&1&&(n(0,"div",6)(1,"div",7),u(2,D,15,7,"div",8),r()()),e&2){let t=m(2);o(2),c("ngForOf",t.wishListProducts)}}function $(e,l){e&1&&(n(0,"div",17),d(1,"i",18),n(2,"h2",19),s(3,"Your Wishlist is Empty"),r(),n(4,"button",20),s(5,"Continue Shopping"),r()())}function z(e,l){e&1&&(n(0,"div",17),d(1,"i",21),n(2,"h2",22),s(3,"Please Log In First"),r(),n(4,"button",23),s(5,"Log In"),r()())}function B(e,l){if(e&1&&(W(0),u(1,G,3,1,"div",4)(2,$,6,0,"div",5)(3,z,6,0,"div",5),b()),e&2){let t=m();o(),c("ngIf",t.loggedUserToken&&t.wishListProducts.length>0),o(),c("ngIf",t.loggedUserToken&&t.wishListProducts.length===0),o(),c("ngIf",!t.loggedUserToken)}}var O=(()=>{class e{constructor(t,i,a){this.wishListService=t,this.toastr=i,this._ShoppingCartService=a,this.wishListProducts=[],this.isLoading=!1}ngOnInit(){this.loggedUserToken=localStorage.getItem("token"),this.loadWishListProducts()}get hasProducts(){return this.wishListProducts?.length>0}loadWishListProducts(){this.isLoading=!0,this.wishListService.getWishListProducts().subscribe({next:t=>{this.wishListProducts=t.data,this.isLoading=!1},error:t=>{console.error("Error fetching wishlist:",t),this.isLoading=!1}})}removeFromWishList(t){this.wishListService.removeFromWishList(t).subscribe({next:()=>{this.showError(),this.loadWishListProducts()},error:i=>{console.error("Error removing from wishlist:",i)}})}AddToCart(t){this._ShoppingCartService.addToCart(t).subscribe({next:i=>{this.toastr.success("Product Added to Cart"),this.removeFromWishList(t),this.GetCartProducts()},error:i=>{this.toastr.error("Failed To Add To Cart")}})}GetCartProducts(){this._ShoppingCartService.getCartProducts().subscribe({next:t=>{t&&t.data&&this._ShoppingCartService.cartPtoductNum.next(t.totalCount)},error:t=>{console.error("Error fetching wishlist:",t),this.toastr.error("Failed to fetch wishlist")}})}showSuccess(){this.toastr.success("Product Added To Wish List")}showError(){this.toastr.error("Product Removed To Wish List")}static{this.\u0275fac=function(i){return new(i||e)(f(A),f(V),f(N))}}static{this.\u0275cmp=S({type:e,selectors:[["app-WishList"]],decls:5,vars:1,consts:[[1,"cart-wrap"],[1,"main-heading-container"],[1,"wishList-title","mb-4"],[4,"ngIf"],["class","container",4,"ngIf"],["class","vh-100 d-flex flex-column justify-content-center align-items-center",4,"ngIf"],[1,"container"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3 px-2 mb-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","px-2","mb-4"],[1,"mb-2","position-relative"],[1,"w-100","h-100",3,"src","alt"],[1,"fa-solid","fa-trash","fav","pointer",3,"click"],[1,"fa-solid","fa-cart-plus","cart","pointer",3,"click"],[1,"mb-2"],[1,"d-flex","justify-content-between","mb-2"],[1,"fa-solid","fa-star","text-warning"],[1,"vh-100","d-flex","flex-column","justify-content-center","align-items-center"],[1,"fa-regular","fa-heart","fa-4x","mb-4","text-muted"],[1,"text-muted","fs-1","mb-4"],["routerLink","/home",1,"btn","btn-dark"],[1,"fa-solid","fa-user-lock","fa-4x","mb-4","text-danger"],[1,"text-danger","fs-1","mb-4"],["routerLink","/login",1,"btn","btn-dark"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),s(3,"SAVED ITEMS"),r()(),u(4,B,4,3,"ng-container",3),r()),i&2&&(o(4),c("ngIf",!a.isLoading))},dependencies:[I,k,j,F],styles:[".wishList-title[_ngcontent-%COMP%]{padding:24px 0;background-color:#eee;font-family:futura-pt,Tahoma,Geneva,Verdana,Arial,sans-serif;font-size:24px;font-weight:700;letter-spacing:1.2px;line-height:30px;text-align:center}"]})}}return e})();var Y=[{path:"",redirectTo:"wishList",pathMatch:"full"},{path:"wishList",component:O,title:"Wish List"}],R=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=h({imports:[C.forChild(Y),C]})}}return e})();var st=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=h({imports:[M,R]})}}return e})();export{st as WishListModule};
